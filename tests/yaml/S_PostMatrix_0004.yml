pipelines:
  - name: PostMatrix_pipeline
    steps:
#       - name: PreMatrix_step
#         type: PreMatrix
#         execution:
#           onExecute:
#             - echo "Executing fanout step...."

      - name: matrix_step1
        type: Matrix
        stepMode: Bash
        configuration:
          inputSteps:
            - name: PostMatrix_step
        stepletMultipliers:
        execution:
          onExecute:
            - echo "Executing matrix step"

      - name: matrix_step2
        type: Matrix
        stepMode: Bash
        configuration:
          inputSteps:
            - name: matrix_step1
        stepletMultipliers:
        execution:
          onExecute:
            - echo "Executing matrix step"

      - name: fanin_demo
        type: PostMatrix
          inputResources:
            - name: self_repo
          inputSteps: 
            - name: matrix_step1
            - name: matrix_step2
        execution:
          onExecute:
            - echo "Executing fanin step"
